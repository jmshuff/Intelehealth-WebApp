<h4><i class="fas fa-diagnoses"></i> Diagnosis</h4>
<hr />
<div>
  <div *ngIf="!coordinator || showDetails">
    <form [formGroup]="diagnosisForm" id="dropdown-diagnosis">
      <div class="diagnosis-wrapper">
        <div class="diagnosis-section">
          <h5>Lens status</h5>
          <br/>
          <div id="primary-confirm">
            <div class="diagnosis-list">
              <h6>Right Eye</h6>
              <hr />
              <mat-radio-group aria-label="Select an option" class="radio-group" formControlName="lensRightEye" [disabled]="rightLensDiagnosis.length > 0">
                <mat-radio-button class="radio-button" *ngFor="let lens of lensDiagnosisList" [value]="lens" (change)="onChangeHandler('lensStatus', 'right')" >{{lens}} </mat-radio-button>
              </mat-radio-group>
 
              <!-- <button type="reset" (click)="onSubmit('right')" mat-raised-button color="primary"
                [disabled]="!diagnosisForm.valid">Add Right Eye Diagnosis</button>
                <br /> -->


              <!-- display selected values -->
              <ng-container *ngIf="rightLensDiagnosis.length > 0">
                <div class="diagnosis-list">
                  <ul class="list-unstyled" *ngFor="let diagnosis of rightLensDiagnosis; index as i">
                    <mat-list [@moveInLeft] class="alert alert-primary">
                      <div class="doctor-value">{{ diagnosis.value }}</div>
                      <i (click)="delete('right', i)" class="material-icons float-right"
                        style="color: rgb(235, 30, 30); cursor: pointer">delete</i>
                    </mat-list>
                    <!-- <span><i class="fa fa-arrow-right" aria-hidden="true"
                        (click)="onClickHandler('left', diagnosis.value, false)"></i></span> -->
                  </ul>
                </div>
              </ng-container>

            </div>


            <div class="diagnosis-list">
              <h6>Left Eye</h6>
              <hr />
              <div>
                <mat-radio-group aria-label="Select an option" class="radio-group" formControlName="lensLeftEye" [disabled]="leftLensDiagnosis.length > 0">
                  <mat-radio-button class="radio-button" *ngFor="let lens of lensDiagnosisList" [value]="lens" (change)="onChangeHandler('lensStatus', 'left')">{{lens}} </mat-radio-button>
                </mat-radio-group>
              </div>
              
              
              <!-- <button type="reset" (click)="onSubmit('left')" mat-raised-button color="primary"
              [disabled]="!diagnosisForm.valid">Add Left Eye Diagnosis</button>
              <br /> -->


              <!-- display selected values -->
              <ng-container *ngIf="leftLensDiagnosis.length > 0">
                <div>
                  <ul class="list-unstyled" *ngFor="let diagnosis of leftLensDiagnosis; index as i">
                    <mat-list [@moveInLeft] class="alert alert-primary">
                      <div class="doctor-value">{{ diagnosis.value }}</div>
                      <i (click)="delete('left', i)" class="material-icons float-right"
                        style="color: rgb(235, 30, 30); cursor: pointer">delete</i>
                    </mat-list>
                  </ul>
                </div>
              </ng-container>

            </div>
          </div>
        </div>

        <div class="diagnosis-section">
          <h5>Additional Pathology</h5>
          <br/>
          <div id="primary-confirm">
            <div class="diagnosis-list">
              <h6>Right Eye</h6>
              <hr />
              <mat-radio-group aria-label="Select an option" class="radio-group" formControlName="pathologyRightEye">
                <mat-radio-button class="radio-button" *ngFor="let additional of additionDiagnosisList" (change)="onChangeHandler('hideRight', 'right')" [value]="additional">
                  {{additional}} </mat-radio-button>
                <mat-radio-button class="radio-button" value="Other" (change)="onChangeHandler('right')">Other</mat-radio-button>
              </mat-radio-group>
                <mat-form-field class="example-full-width" *ngIf="showRightEyeOtherInput">
                  <input matInput placeholder="Other" aria-label="State" [matAutocomplete]="auto"
                    (keydown)="search($event)" (keyup)="onKeyUpHandler($event, 'right')"
                    formControlName="rightEyeOtherValue" />
                  <mat-autocomplete #auto="matAutocomplete">
                    <mat-option *ngFor="let dia of diagnosisList" [value]="dia" (click)="onClick(dia, 'right')" >
                      <span>{{ dia }} </span>
                    </mat-option>
                  </mat-autocomplete>
                </mat-form-field>

                <ng-container *ngIf="rightPathologyDiagnosis.length > 0">
                <div class="diagnosis-list">
                  <ul class="list-unstyled" *ngFor="let diagnosis of rightPathologyDiagnosis; index as i">
                    <mat-list [@moveInLeft] class="alert alert-primary">
                      <div class="doctor-value">{{ diagnosis.value }}</div>
                      <i (click)="delete('right', i, true)" class="material-icons float-right"
                        style="color: rgb(235, 30, 30); cursor: pointer">delete</i>
                    </mat-list>
                    <span><i class="fa fa-arrow-right" aria-hidden="true"
                        (click)="onClickHandler('left', diagnosis.value, true)"></i></span>
                  </ul>
                </div>
              </ng-container>
            </div>
 
            <div class="diagnosis-list">
              <h6>Left Eye</h6>
              <hr />
              <mat-radio-group aria-label="Select an option" class="radio-group" formControlName="pathologyLeftEye">
                <mat-radio-button class="radio-button" *ngFor="let additional of additionDiagnosisList" (change)="onChangeHandler('hideLeft', 'left')" [value]="additional">
                  {{additional}} </mat-radio-button>
                <mat-radio-button class="radio-button" value="Other" (change)="onChangeHandler('left')">Other</mat-radio-button>
              </mat-radio-group>
                <mat-form-field class="example-full-width" *ngIf="showLeftEyeOtherInput">
                  <input matInput placeholder="Other" aria-label="State" [matAutocomplete]="auto" (keydown)="search($event)"
                    (keyup)="onKeyUpHandler($event, 'left')" formControlName="leftEyeOtherValue" />
                  <mat-autocomplete #auto="matAutocomplete">
                    <mat-option *ngFor="let dia of diagnosisList" [value]="dia" (click)="onClick(dia, 'left')" >
                      <span>{{ dia }} </span>
                    </mat-option>
                  </mat-autocomplete>
                </mat-form-field>

                <ng-container *ngIf="leftPathologyDiagnosis.length > 0">
                  <div>
                    <ul class="list-unstyled" *ngFor="let diagnosis of leftPathologyDiagnosis; index as i">
                      <mat-list [@moveInLeft] class="alert alert-primary">
                        <div class="doctor-value">{{ diagnosis.value }}</div>
                        <i (click)="delete('left', i, true)" class="material-icons float-right"
                          style="color: rgb(235, 30, 30); cursor: pointer">delete</i>
                      </mat-list>
                    </ul>
                  </div>
                </ng-container>
            </div>
          </div>

        </div>
      </div>


    </form>
  </div>


  <!-- coordinator -->
  <div *ngIf="coordinator">
    <ul>
      <li *ngIf="rightLensDiagnosis.length">
        <div>Right Eyes: <span *ngFor="let diagnosis of rightLensDiagnosis"> {{ diagnosis.value }} </span></div>
      </li>
      <li *ngIf="leftLensDiagnosis.length">
        <div>Left Eyes: <span *ngFor="let diagnosis of leftLensDiagnosis"> {{diagnosis.value }} </span></div>
      </li>
    </ul>
  </div>
</div>